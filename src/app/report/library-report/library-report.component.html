
<div class="body">
  <div class="content-wrapper">
    <div class="content">
      <div class="page-header">
        <ul class="page-breadcrumb breadcrumb">
          <li><a routerLink="/"><i class="material-icons">home</i> Home</a></li>
          <li><a routerLink="/report/">Report</a></li>
          <li><a> Library Report</a></li>
        </ul>
        <div class="row ">
          <form ngNativeValidate (ngSubmit) ="onSubmit()" #libraryreport ="ngForm">
            <div class="col-sm-12">
              <div class="card">
                  <h4 class="panel-heading bg-primary ">Library Report</h4>
                   <br>
                <div class="panel-body">
                  <div class="row clearfix">
                    <div class="col-sm-3">
                      <label for="reportfor" class="req"> Report for </label>
                      <select class="form-control" [(ngModel)]="library_report.report_for" (change)="onChange($event.target.value)" name="reportfor" required>
                        <option value ="option">Select option</option>
                        <option value ="availablebook">Available Books</option>
                        <option value ="issuedbook">issued Books</option>
                      </select>
                    </div>

                    <div class="col-sm-3" *ngIf ="issuedbook">
                      <label for="reporttype" class="req">Report type</label>
                      <select class="form-control" (change)="OnChange($event.target.value)" name="reporttype"required >
                        <option value ="option">select option</option>
                        <option value ="datewise">Date Wise</option>
                        <option value ="classwise">Class Wise</option>
                        <option value ="sectionwise">section Wise</option>
                        
                      </select>
                    </div>

                    <div class="col-sm-3" *ngIf ="classwise">
                      <label for="selectclass" class="req">  Class</label>
                      <select class="form-control"[(ngModel)]="library_report.class_name"  name="selectclass" required >
                        <!-- <option *ngFor="let c of classes" [ngValue]="c.id">{{c.name}}</option> -->
                        <option value ="0">select option</option>
                        <option value ="3">Class1</option>
                        <option value ="4">Class2</option>
                       
                      </select>
                    </div>

                    <div class="col-sm-3" *ngIf ="sectionwise">
                        <label for="section" class="req"> Section</label>
                        <select class="form-control"[(ngModel)]="library_report.section"  name="section"required  >
                          <!-- <option *ngFor="let s of section" [ngValue]="s.id">{{s.name}}</option> -->
                          <option value ="0">select option</option>
                          <option value ="3">section A</option>
                          <option value ="4">section B</option>
                         
                        </select>
                      </div>


                   <div class="col-sm-3" *ngIf ="datewise">
                        <label for="date">start date</label>
                        <input type="date" class="form-control" [(ngModel)]="library_report.start_date" name="date" 
                          required>
                  </div>
                  <div class="col-sm-3" *ngIf ="datewise">
                    <label for="date">end date</label>
                    <input type="date" class="form-control" [(ngModel)]="library_report.end_date" name="enddate" 
                      required>
                </div>

                </div>
                <br> 
                <div class ="row">
                <div class="form-group cols-sm-2">
                         <button type="submit" class="btn btn-success col-sm-offset-10 " *ngIf ="issuedbook" (click)="get_reporttype()">view</button> 
                         <button type="button" class="btn btn-danger col-sm-offset-1  button-margin" *ngIf ="printbutton" onclick="do_print('dataTable')" >print</button> 
                  
                  </div>
                 </div>
                </div>
              </div>
            </div>
         </form>
       </div>
     </div>
    </div>
  </div>
   <!--libary table start-->

   <div class = " table-reponsive"  id ="dataTable"  *ngIf="availablebook">
    <h4 class="text-center panel-heading bg-info">Available Books</h4> 
     <table class="center col-sm-12 table-bordered table-striped  footable table-hover ">
       <tr>
         <th>ID</th>
         <th>ISBN No</th>
         <th>Book No.</th>
         <th>Name</th>
         <th>Author</th>
         <th>Edition</th>
         <th>Category</th>
         <th>Language</th>
         
       </tr>
       <tr>
         <td>{{row.id}}</td>
          <td>{{row.isbn_no}}</td>
          <td>{{row.book_no}}</td>
          <td>{{row.name}}</td>
          <td>{{row.author}}</td>
          <td>{{row.edition}}</td>
          <td>{{row.category}}</td>
          <td>{{row.language}}</td>
        </tr>
     </table>
   </div>   
  
   <div class = "table-reponsive " id ="dataTable"  *ngIf="libaryReport">
    <h4 class="text-center panel-heading bg-info">Issued Report</h4> 
     <table class="center col-sm-12 table-bordered table-striped  footable table-hover">
       <tr>
         <th>ID</th>
         <th>ISBN No</th>
         <th>Book No. </th>
         <th>Title</th>
         <th>User Type</th>
         <th>User</th>
         <th>Class</th>
         <th *ngIf = "sectionwise">Section</th>
         <th>Issue Date</th>
         <th>Return Date</th>
         
       </tr>
       <tr>
         <td>{{row.id}}</td>
          <td>{{row.isbn_no}}</td>
          <td>{{row.book_no}}</td>
          <td>{{row.name}}</td>
          <td>{{row.user_type}}</td>
          <td>{{row.user}}</td>
          <td>{{row.class}}</td>
          <td *ngIf ="sectionwise">{{row.section}}</td>
          <td>{{row.issued_date}}</td>
          <td>{{row.return_date}}</td>
        </tr>
     </table>
   </div>
   <br> 
 
<!--library table end-->  

</div>





       
      


             

